- Вместо словаря заводим массив(или хэш таблицу) очередей (или стеков)
- При каждом нахождении префиксной суммы со значением i записываем индекс в очередь, находящуюся в массиве под индексом i
- Для каждого ключа ищем существует ли ключ Т + Х
- Если существует: с помощью двух указателей подсчитываем количество пар

[[Задачи на префиксные суммы]]

[[Количество отрезков, сумма чисел в которых равна 0]]